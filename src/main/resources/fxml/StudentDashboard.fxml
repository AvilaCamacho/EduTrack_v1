<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<AnchorPane fx:id="panelRoot" xmlns:fx="http://javafx.com/fxml/1"
            xmlns="http://javafx.com/javafx/21"
            fx:controller="com.edutrack.controller.TeacherDashboardController"
            prefWidth="1280" prefHeight="800">

    <!-- ====================== -->
    <!--  CSS DIRECTAMENTE AQUÍ -->
    <!-- ====================== -->
    <stylesheets>
        ,
            .root {
                -fx-font-family: 'Inter', 'System';
                -fx-background-color: #F5F7F8;
            }

            .top-bar {
                -fx-background-color: #7a7a7a;
                -fx-padding: 18 24 18 24;
                -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);
            }

            .title-large {
                -fx-text-fill: white;
                -fx-font-size: 20px;
                -fx-font-weight: 700;
            }

            .subtitle-muted {
                -fx-text-fill: rgba(255,255,255,0.9);
                -fx-font-size: 13px;
            }

            .sidebar-card {
                -fx-background-color: #ffffffaa;
                -fx-padding: 16;
                -fx-border-radius: 8;
                -fx-background-radius: 8;
                -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.06), 6, 0, 0, 2);
            }

            .sidebar-title {
                -fx-font-size: 14px;
                -fx-text-fill: #333333;
                -fx-font-weight: 700;
            }

            .groups-list {
                -fx-background-color: transparent;
                -fx-border-color: transparent;
                -fx-cell-size: 40;
            }

            .btn-secondary {
                -fx-background-color: transparent;
                -fx-border-color: #d0d6dd;
                -fx-border-radius: 6;
                -fx-background-radius: 6;
                -fx-padding: 6 12 6 12;
            }

            .btn-secondary:hover {
                -fx-background-color: rgba(53,159,255,0.06);
            }

            .btn-danger {
                -fx-background-color: transparent;
                -fx-border-color: #c94b4b;
                -fx-text-fill: #c94b4b;
                -fx-border-radius: 6;
                -fx-background-radius: 6;
                -fx-padding: 6 12 6 12;
            }

            .btn-danger:hover {
                -fx-background-color: rgba(201,75,75,0.06);
            }

            .section-title {
                -fx-font-size: 16px;
                -fx-font-weight: 700;
                -fx-text-fill: #2f2f2f;
            }

            .muted-small {
                -fx-font-size: 12px;
                -fx-text-fill: #707070;
            }

            .card-surface {
                -fx-background-color: white;
                -fx-padding: 12;
                -fx-border-radius: 8;
                -fx-background-radius: 8;
                -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.04), 12, 0, 0, 4);
            }

            .table-view {
                -fx-table-cell-border-color: transparent;
                -fx-padding: 0;
            }

            .table-view .column-header-background {
                -fx-background-color: transparent;
            }

            .table-view .column-header .label {
                -fx-font-weight: 700;
                -fx-font-size: 13px;
                -fx-text-fill: #2f2f2f;
            }

            .table-placeholder {
                -fx-text-fill: #9b9b9b;
                -fx-font-size: 13px;
            }
        "/>
    </stylesheets>

    <!-- ================= -->
    <!--  UI COMPLETA      -->
    <!-- ================= -->

    <!-- Barra superior -->
    <HBox fx:id="topBar"
          AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0"
          styleClass="top-bar" spacing="16" alignment="CENTER_LEFT" prefHeight="96">
        <children>
            <Label text="Panel del Maestro" styleClass="title-large">
                <padding>
                    <Insets top="12" right="0" bottom="12" left="24"/>
                </padding>
            </Label>
            <Label text="Bienvenido, Prof. Juan García" styleClass="subtitle-muted"/>
        </children>
    </HBox>

    <!-- Sidebar izquierda -->
    <VBox fx:id="leftSidebar"
          AnchorPane.leftAnchor="24" AnchorPane.topAnchor="120" AnchorPane.bottomAnchor="24"
          prefWidth="320" spacing="12" styleClass="sidebar-card">
        <children>
            <Label text="Mis Grupos" styleClass="sidebar-title" />
            <ListView fx:id="groupsListView" prefHeight="520" styleClass="groups-list" />
            <HBox spacing="8" alignment="CENTER">
                <Button fx:id="createGroupButton" text="Crear Grupo" styleClass="btn-secondary" />
                <Button fx:id="deleteGroupButton" text="Eliminar Grupo" styleClass="btn-danger" />
            </HBox>
        </children>
    </VBox>

    <!-- Contenido principal -->
    <VBox fx:id="mainContent"
          AnchorPane.topAnchor="120" AnchorPane.leftAnchor="372" AnchorPane.rightAnchor="24"
          AnchorPane.bottomAnchor="24" spacing="12">
        <children>

            <HBox alignment="CENTER_LEFT" spacing="8">
                <Label text="Alumnos del Grupo" styleClass="section-title"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Label fx:id="groupActionsLabel"
                       text="Seleccione un grupo para ver acciones"
                       styleClass="muted-small"/>
            </HBox>

            <!-- Tabla -->
            <StackPane styleClass="card-surface" VBox.vgrow="ALWAYS">
                <children>
                    <TableView fx:id="studentsTable">
                        <columns>
                            <TableColumn fx:id="colIndex" text="#" prefWidth="56" />
                            <TableColumn fx:id="colStudentName" text="Nombre del Alumno" prefWidth="320" />
                            <TableColumn fx:id="colEmail" text="Correo" prefWidth="240" />
                            <TableColumn fx:id="colStatus" text="Asistencia" prefWidth="140" />
                            <TableColumn fx:id="colActions" text="Acciones" prefWidth="140" />
                        </columns>
                        <placeholder>
                            <Label text="Seleccione un grupo para ver los alumnos"
                                   styleClass="table-placeholder"/>
                        </placeholder>
                    </TableView>
                </children>
            </StackPane>

            <HBox alignment="CENTER_LEFT" spacing="8">
                <Label text="Seleccione un grupo para ver acciones" styleClass="muted-small"/>
            </HBox>

        </children>
    </VBox>

</AnchorPane>